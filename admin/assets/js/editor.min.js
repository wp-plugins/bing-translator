!function(a,b){"use strict";var c={insert:function(b){var c=this.getTinyMce(),d=a.wpActiveEditor;return!1===c?!1:void(c&&!c.isHidden()?(tinymce.isIE&&c.windowManager.insertimagebookmark&&c.selection.moveToBookmark(c.windowManager.insertimagebookmark),c.execCommand("mceInsertContent",!1,b)):"undefined"!=typeof QTags?QTags.insertContent(b):document.getElementById(d).value+=b)},insertShortcode:function(a){var b=this.getSelection();a=_.extend({content:"",tag:"",type:"closed"},a),b&&(a.content=wp.shortcode.replace(a.tag,b,function(a){return a.content})),this.insert(wp.shortcode.string(a))},getSelection:function(){var b,c,d=this.getTinyMce(),e="",f=a.wpActiveEditor;return!1===d?!1:(d&&!d.isHidden()?e=d.selection.getContent():"undefined"!=typeof QTags&&(d=QTags.getInstance(f),c=d.canvas.selectionStart,b=d.canvas.selectionEnd,b-c>0&&(e=d.canvas.value.substring(c,b))),e)},getTinyMce:function(){var b,c="undefined"!=typeof tinymce,d="undefined"!=typeof QTags,e=a.wpActiveEditor;if(e)c&&(b=!tinymce.activeEditor||"mce_fullscreen"!==tinymce.activeEditor.id&&"wp_mce_fullscreen"!==tinymce.activeEditor.id?tinymce.get(e):tinymce.activeEditor);else if(c&&tinymce.activeEditor)b=tinymce.activeEditor,e=a.wpActiveEditor=b.id;else if(!d)return!1;return b}};b(function(b){var d=b(".bing-translator-button-group");d.on("click",".button",function(a){var c=b(this).closest(".bing-translator-button-group");a.preventDefault(),c.toggleClass("is-open",!c.hasClass("is-open"))}),d.on("click",".bing-translator-dropdown-menu a",function(d){var e=b(this),f=e.closest(".bing-translator-button-group").removeClass("is-open"),g=e.data("bing-translator");d.preventDefault(),a.wpActiveEditor=f.data("editor"),"insert-widget"===g?c.insert("[bing_translator]"):"notranslate"===g&&c.insertShortcode({tag:"notranslate"})})})}(this,jQuery);